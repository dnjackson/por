<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Facebook and Dark Patterns | The Essence of Software</title>
<meta name="keywords" content="" />
<meta name="description" content="Finding Clarity in Design">
<meta name="author" content="Daniel Jackson">
<link rel="canonical" href="https://essenceofsoftware.com/posts/facebook/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.e4db30a8d25f1b926dc8f724a870ea241cdbcd775e10c551da53b91270fa3e99.css" integrity="sha256-5NswqNJfG5JtyPckqHDqJBzbzXdeEMVR2lO5EnD6Ppk=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://essenceofsoftware.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://essenceofsoftware.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://essenceofsoftware.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://essenceofsoftware.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://essenceofsoftware.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.86.0" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRQ6HWW3ZW"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-WRQ6HWW3ZW', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Facebook and Dark Patterns" />
<meta property="og:description" content="Finding Clarity in Design" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://essenceofsoftware.com/posts/facebook/" /><meta property="og:image" content="https://essenceofsoftware.com/eos-twitter-card.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-25T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-03-25T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://essenceofsoftware.com/eos-twitter-card.png"/>

<meta name="twitter:title" content="Facebook and Dark Patterns"/>
<meta name="twitter:description" content="Finding Clarity in Design"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://essenceofsoftware.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Facebook and Dark Patterns",
      "item": "https://essenceofsoftware.com/posts/facebook/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Facebook and Dark Patterns",
  "name": "Facebook and Dark Patterns",
  "description": "Finding Clarity in Design",
  "keywords": [
    
  ],
  "articleBody": "Dark patterns are no longer just yucky strategies that companies get away with, tempting you to buy insurance you don’t need or sign up for a free-for-a-while trial that can only be canceled by calling a phone number that is always busy. Soon they might be illegal. Regulators are taking a closer look, and lawyers in the US and the UK are starting to warn about the liabilities they bring.\nBut what exactly makes a pattern dark? Where is the line between an aggressive but legitimate sales tactic and an immoral or illegal scheme?\nA new project In a research project funded by a new NSF program about designing accountable software systems, I’m working with my students Geoffrey Litt and Josh Pollock (and my co-PIs Danny Weitzner and Joan Feigenbaum and their students) on answering this question.\nOur initial take involves—surprise!—software concepts. To date, dark patterns work has focused on user interface tricks: getting you to click the big green button, for example, when it’s really that small text field that doesn’t even look like a button that you want to click instead. But the more serious dark patterns run deeper, and are conceptual in nature.\nAs bad as it gets For example, in one of the most egregious scams I’ve ever seen (thanks so Eunsuk Kang for telling me about this), Intuit advertises a version of the Turbotax tax filing app as “guaranteed free.” In fact, however, as Propublica has documented, the app is far from free, and if you fail to fall within a narrow range of cases, you will be required to pay (after, of course, you’ve taken all the trouble to enter your private and personal tax data). Intuit and other tax software companies had lobbied to prevent the IRS from offering its own free solution (as the revenue agency does in many other countries), and in return promised to provide one itself. The free one, it turns out, is not called the “Free Edition,” but rather the “Freedom Edition,” and is not reachable from the Turbotax website.\nDark patterns in Facebook Most cases of dark patterns are more subtle. Take Facebook, for example. Suppose Alice posts a photo of Bob, and Carol (a friend of them both) then tags Bob in the photo. This seemingly innocent action has an unexpected and pernicious consequence: it makes the photo visible to all of Bob’s friends, even those who are not friends of Alice or Carol. Perhaps the photo shows Bob at a job fair talking to a competitor and his friends include his work colleagues. There are all kinds of reasons that Bob might not want the photo to be shared in this way.\nNow Facebook would likely respond that its users should know how the app behaves, and that they are free to choose more stringent privacy settings. Bob could have turned on a “tag review” setting that would have required his approval before the photo was shown to all his friends. In practice, of course, most users don’t have a clue what’s going on, or how to change their settings. And not surprisingly, the defaults seem to favor Facebook rather than its users.\n(I’ve written a piece for a lay audience about how Facebook uses “dark concepts” to further its sometimes nefarious business practices: you can find it here.)\nThe key idea Here’s our idea. What’s wrong with simple UI dark patterns is that they confound the expectations of the user: you think that big green button is the normal approval of your purchase, but it turns out to be the one that signs you up with extra insurance that you didn’t want to buy. Patterns that operate more deeply also confound expectations, not about the meaning of user interface widgets, but about the very behavior of the concept at hand. When you see a familiar concept like a shopping cart, you bring with you all your prior experiences of shopping carts, so you assume this shopping cart will be no different. You don’t expect items to be added to the cart spontaneously without your approval; shopping carts just don’t do that.\nThe use of a common concept thus establishes a kind of implicit contract between the company and the consumer. In exactly the same way, if an employee of a supermarket came and dropped items into your cart because they “thought you might like them,” your grounds for objection should not be that such an action is inherently evil. It’s that shopping carts just don’t work that way.\nFacebook’s concepts Let’s apply this idea to Facebook. Our task is to come up with plausible concept definitions that capture our expectations of activities such as posting, friending and tagging. This will not be easy because apps like Facebook are so baroque that arguably our expectations are uncertain and inconsistent. So instead we’ll try to imagine how an app like Facebook might work if it were designed to be as simple and clear as possible.\nOur first task is to identify the essential concepts, and assign each a compelling purpose and a role with respect to privacy. For example, we might come up with the following concepts and purposes:\nPost: author content Comment: respond to content by others Friend: control access to your content Tag: identify users in images  Even these apparently simple purposes are not uncontentious. The Friend concept, for example, is also used to filter content (so that you see content that you’re interested in). This purpose arguably belongs to the Follower concept, however, which in Facebook is merged into the Friend concept. But this issue need not bother us here, since privacy is our primary concern.\nNow let’s assign privacy roles to concepts:\nPost: determines who can edit content (the author) Comment: determines who can edit response (its author) Friend: determines who can see content (friends of the content publisher) Tag: no role  The privacy roles of Post and Content are straightforward: they control only who can edit the post or the comment (namely the author who wrote them in the first place). Deciding that Tag has no privacy role is obviously inconsistent with the way it behaves in Facebook, but we’re laying out the simple case for now. Friend is the interesting one here, and as we’ll see, what’s tricky is defining who publishes given content.\nAs we enumerate these concepts and their roles, we realize that we have covered reading and editing (and implicitly creating, assuming that each concept governs the creation of its namesake items), but not deletion. So we add one more concept\nOwner: manage deletion of items  that will determine who is allowed to delete which items.\nDefining states Our next task is to outline the behavior of the individual concepts. The interesting case is Friend. We start with the state components (aka the data model):\npublishes: User - set Item friends: User - set User sees: User - set Item = friends.publishes  The publishes relation will track which items have been published by which users. Note that I wrote Item and not Post or Comment or Tag. No concept should depend on the existence of any other; we should be able to understand Friend without knowing what form the items that are published will take. From Friend’s point of view, only the identity of an item matters, and Item can be viewed as a type variable (so that Friend is generic over all possible items).\nNote also that the Friend concept maintains its own record of which item was published by which user; it can’t refer to a relation in some other concept (such as which items are owned by which users in the Owner concept, or which posts are authored by which users in the Post concept). This might seem to be redundant, but in fact it isn’t: we’ll see that the publishes relation does not neatly align with these other relations in the other concepts. You can own an item but not publish it, for example.\nFinally, the sees relation defines which items a particular user can see. It is not a state component that can be independently updated, but is instead defined in terms of the other state components. The expression friend.publishes uses the Alloy join operator, and associates with a user the set of items published by that user’s friends.\nDefining actions To complete the behavior of the individual concepts, we define actions. For Friend, for example, we might have the following actions, each with a comment giving its effect on the state:\npublish (u: User, i: Item) // add i to u.publishes friend (u, u’: User) // adds u to u’.friends and vv unfriend (u, u’: User) // removes u from u’.friends and vv read (u: User, i: Item) // blocks unless i in u.sees delete (i: Item) // remove item  Of course these specs can be written precisely in a language like Alloy and—in addition to being precise—that would let you do automatic simulation and analysis. But that’s a story for another day. The important things to note here are: (a) that the read action is a kind of placeholder; it doesn’t really do anything except block if the user isn’t allowed to see the item; and (b) that the publish action is not called “post” or anything that like, because it will be in the composition with other concepts that we get to decide what comprises publishing.\nDefining synchronizations Now we can put things together, and define the overall behavior by synchronizing the actions of the individual concepts. I’ve only shown you the actions of the Friend concept, but I think you’ll be able to figure out what the actions of the other concepts do from their names.\nHere are two synchronizations:\napp fb includes Post, Comment, Tag, Owner, Friend, … // when user u adds a comment c to post p sync Comment.add_comment (u, p, c) // the author of the comment becomes its owner Owner.create (u, c) // the owners of the post become owners of the comment Owner.add_owners (p.(Owner/owners), c) // the comment is published by the publisher of the post Friend.publish (p.(Friend/publishes), c) // when user u adds tag t to item i for user m sync Tag.tag (u, m, t, i) // creator of tag becomes owner Owner.create (u, t) // mentioned user becomes owner too, so can delete Owner.add_owners (t, m) // tag itself is published by publisher of item Friend.publish (i.(Friend/publishes), t)  The first one describes what happens when the user adds a comment. That action produces three additional actions: the user who adds the comment becomes an owner of the comment; the owners of the post (on which the comment is made) become owners of the comment; and the comment is published by the publisher of the post. The expression p.(Friend/publishes) uses Alloy’s nifty dot operator to navigate backwards from the post p through the publishes relation in Friend to obtain the set of users that are the publishers of p.\nAs a result of these actions, when Alice adds a comment to Bob’s post, only Alice can edit the comment (since authorship is maintained in the Comment concept); both of them can delete the comment (since they are both owners, and the Owner concept lets owners delete items); and the comment is deemed to have been published not by Alice but by Bob. This last part is critical for our exploration of privacy in Facebook: it’s what ensures that it’s Bob’s friends, and not Alice’s friends, who see the comment.\nThe second sync says what happens when a user tags an item. Both the tagger and the tagged person are owners, so the tagged person can delete the tag if they don’t like it. More interestingly, the effect of tagging includes making the tag published by the publisher of the item. So this means that the tag is visible to the same set of users as the item it’s attached to.\nModeling the way Facebook really is This is not how Facebook works by default, although you can get this behavior by tightening your privacy settings. Here is a sync that describes Facebook’s default behavior:\n// when user u adds tag t to item i for user m sync tag.tag (u, m, t, i) ... // owners as before // tag itself is published by publisher of item friend.publish (i.(Friend/publishes), t)\t// tagged person becomes a publisher of the item friend.publish (m, i)\t// tagged person becomes a publisher of the tag friend.publish (m, t)  In this variant, the person tagged (m) additionally becomes a publisher of both the tag and the item tagged: that means that all their friends will see the tagging.\nWhat have we gained? By describing the Facebook design in terms of concepts, we’ve achieved a few things:\n  We’ve factored the behavior into understandable pieces. In particular, the Friend concept is responsible for managing visibility, and encapsulates a very simple rule: you can see what your friends publish.\n  Because concepts can be combined by synchronization, we can describe behaviors in which actions happen not only because they are directly initiated by the user (such as adding a comment), but also because they occur implicitly, in combination with other events (such as the publishing of the comment by the author of the associated post).\n  We can now disentangle things, When Alice tags Carol in Bob’s post, who is publishing what? In the design we proposed as the sane one, Bob is the publisher of the tag, just as he would be the publisher of a comment that Alice made on his post. And thus the audience of the post is not expanded by the act of tagging. In contrast, in the Facebook design, when Alice tags Carol in Bob’s post, Carol is deemed to be publishing not only the tag but also the original post!\n  We can now judge the various design options, distinguishing sane and straightforward designs from those that are at best baroque and at worst malicious. For example, the case for arguing that any follow-up to a post is treated as published by the author of the post is straightforward, and corresponds to the idea of the whole discussion being “hosted” by that author. The case for the actual Facebook design, in which a tagged person is deemed to republish the post as a whole, seems much harder to defend.\n  Where does this all go? The upshot of this rather lengthy (and in places complicated) discussion can be stated simply. A user interacts with a software system by executing a series of actions. In an honest design free of dark patterns, which actions occur, and the effect of those actions, align with the user’s expectations. Those expectations are set by the assumptions that the user brings to the interaction, based on prior experiences with similar systems. They include simple expectations about the user interface itself (for example, that green means go and red means stop), and deeper expectations about the underlying functionality (for example, that items don’t spontaneously get added to a shopping cart). Concepts provide a way to identify recurring units of functionality, and thus to articulate these assumptions.\nThese ideas could be used to make apps such as Facebook more transparent and accountable to their users. An industry standards body could agree on the definition of concepts such as Friend, and Facebook would then be encouraged (or perhaps required) either to conform to that concept, or make it very clear that their concept was not compliant. Along with this, Facebook would be required to explain in simple terms who is publishing what, so that a user can figure out how actions in other concepts are interpreted as publishing actions from the point of view of Friend.\nAdmittedly, this isn’t simple. But it’s surely simpler than the status quo, in which the user is faced with a complex data model of posts, comments, replies, tags and friends, and very little structure that would allow them to understand what’s really going on.\nThis post has been edited, based on very helpful discussions with Rebecca Jackson and Eunsuk Kang. Thank you to both of them. Thank you also to Jimmy Koppel for pointing me to Joel Spolsky’s story in which he experienced “sneak into basket” in a physical store.\n",
  "wordCount" : "2713",
  "inLanguage": "en",
  "datePublished": "2022-03-25T00:00:00Z",
  "dateModified": "2022-03-25T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Daniel Jackson"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://essenceofsoftware.com/posts/facebook/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "The Essence of Software",
    "logo": {
      "@type": "ImageObject",
      "url": "https://essenceofsoftware.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://essenceofsoftware.com" accesskey="h" title="The Essence of Software (Alt + H)">The Essence of Software</a>
            <span class="logo-switches">
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://essenceofsoftware.com/ask/" title="Q&amp;A">
                    <span>Q&amp;A</span>
                </a>
            </li>
            <li>
                <a href="https://essenceofsoftware.com/buy/" title="Buy">
                    <span>Buy</span>
                </a>
            </li>
            <li>
                <a href="https://essenceofsoftware.com/reviews/" title="Reviews">
                    <span>Reviews</span>
                </a>
            </li>
            <li>
                <a href="https://essenceofsoftware.com/author/" title="Author">
                    <span>Author</span>
                </a>
            </li>
            <li>
                <a href="https://essenceofsoftware.com/posts/" title="Goodies">
                    <span>Goodies</span>
                </a>
            </li>
            <li>
                <a href="https://essenceofsoftware.com/subscribe/" title="Subscribe">
                    <span>Subscribe</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Facebook and Dark Patterns
    </h1>
    <div class="post-description">
      Finding Clarity in Design
    </div>
    <div class="post-meta"><span title='2022-03-25 00:00:00 +0000 UTC'>March 25, 2022</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Daniel Jackson&nbsp;|&nbsp;<a href="https://forum.softwareconcepts.io" rel="noopener noreferrer" target="_blank">Comments</a>

</div>
  </header> 
  <div class="post-content"><p><a href="https://uxdesign.cc/dark-patterns-in-ux-design-7009a83b233c">Dark patterns</a> are no longer just yucky strategies that companies get away with, tempting you to buy insurance you don&rsquo;t need or sign up for a free-for-a-while trial that can only be canceled by calling a phone number that is always busy. Soon they might be illegal. <a href="https://www.ftc.gov/news-events/events/2021/04/bringing-dark-patterns-light-ftc-workshop">Regulators</a> are taking a closer look, and lawyers in the <a href="https://www.law.com/legaltechnews/2021/11/03/dark-patterns-are-an-ethical-and-legal-no-no-but-is-your-legal-team-prepared-for-them/?slreturn=20220223153700">US</a> and the <a href="https://www.farrer.co.uk/news-and-insights/dark-patterns-an-overview-of-legal-considerations/">UK</a> are starting to warn about the liabilities they bring.</p>
<p>But what exactly makes a pattern dark? Where is the line between an aggressive but legitimate sales tactic and an immoral or illegal scheme?</p>
<h2 id="a-new-project">A new project<a hidden class="anchor" aria-hidden="true" href="#a-new-project">#</a></h2>
<p>In a research project funded by a new <a href="https://beta.nsf.gov/funding/opportunities/designing-accountable-software-systems-dass">NSF program</a> about designing accountable software systems, I&rsquo;m working with my students <a href="https://www.geoffreylitt.com">Geoffrey Litt</a> and <a href="https://joshmpollock.com">Josh Pollock</a> (and my co-PIs <a href="https://internetpolicy.mit.edu/daniel-weitzner/">Danny Weitzner</a> and <a href="http://www.cs.yale.edu/homes/jf/">Joan Feigenbaum</a> and their students) on answering this question.</p>
<p>Our initial take involves—surprise!—software concepts. To date, dark patterns work has focused on user interface tricks: getting you to click the big green button, for example, when it&rsquo;s really that small text field that doesn&rsquo;t even look like a button that you want to click instead. But the more serious dark patterns run deeper, and are conceptual in nature.</p>
<h2 id="as-bad-as-it-gets">As bad as it gets<a hidden class="anchor" aria-hidden="true" href="#as-bad-as-it-gets">#</a></h2>
<p>For example, in one of the most egregious scams I&rsquo;ve ever seen (thanks so Eunsuk Kang for telling me about this), Intuit advertises a version of the Turbotax tax filing app as &ldquo;guaranteed free.&rdquo; In fact, however, as Propublica has <a href="https://www.propublica.org/article/turbotax-just-tricked-you-into-paying-to-file-your-taxes">documented</a>, the app is far from free, and if you fail to fall within a narrow range of cases, you will be required to pay (after, of course, you&rsquo;ve taken all the trouble to enter your private and personal tax data). Intuit and other tax software companies had lobbied to prevent the IRS from offering its own free solution (as the revenue agency does in many other countries), and in return promised to provide one itself. The free one, it turns out, is not called the &ldquo;Free Edition,&rdquo; but rather the &ldquo;Freedom Edition,&rdquo; and is not reachable from the Turbotax website.</p>
<h2 id="dark-patterns-in-facebook">Dark patterns in Facebook<a hidden class="anchor" aria-hidden="true" href="#dark-patterns-in-facebook">#</a></h2>
<p>Most cases of dark patterns are more subtle. Take Facebook, for example. Suppose Alice posts a photo of Bob, and Carol (a friend of them both) then tags Bob in the photo. This seemingly innocent action has an unexpected and pernicious consequence: it makes the photo visible to all of Bob&rsquo;s friends, even those who are not friends of Alice or Carol. Perhaps the photo shows Bob at a job fair talking to a competitor and his friends include his work colleagues. There are all kinds of reasons that Bob might not want the photo to be shared in this way.</p>
<p>Now Facebook would likely respond that its users should know how the app behaves, and that they are free to choose more stringent privacy settings. Bob could have turned on a &ldquo;tag review&rdquo; setting that would have required his approval before the photo was shown to all his friends. In practice, of course, most users don&rsquo;t have a clue what&rsquo;s going on, or how to change their settings. And not surprisingly, the defaults seem to favor Facebook rather than its users.</p>
<p>(I&rsquo;ve written a piece for a lay audience about how Facebook uses &ldquo;dark concepts&rdquo; to further its sometimes nefarious business practices: you can find it <a href="https://press.princeton.edu/ideas/facebooks-dark-design-its-not-just-the-algorithms">here</a>.)</p>
<h2 id="the-key-idea">The key idea<a hidden class="anchor" aria-hidden="true" href="#the-key-idea">#</a></h2>
<p>Here&rsquo;s our idea. What&rsquo;s wrong with simple UI dark patterns is that they <em>confound the expectations</em> of the user: you think that big green button is the normal approval of your purchase, but it turns out to be the one that signs you up with extra insurance that you didn&rsquo;t want to buy. Patterns that operate more deeply also confound expectations, not about the meaning of user interface widgets, but about the very behavior of the concept at hand. When you see a familiar concept like a shopping cart, you bring with you all your prior experiences of shopping carts, so you assume this shopping cart will be no different. You don&rsquo;t expect items to be added to the cart spontaneously without your approval; shopping carts just don&rsquo;t do that.</p>
<p>The use of a common concept thus establishes a kind of implicit contract between the company and the consumer. In exactly the same way, if an employee of a supermarket came and dropped items into your cart because they &ldquo;thought you might like them,&rdquo; your grounds for objection should not be that such an action is inherently evil. It&rsquo;s that shopping carts just don&rsquo;t work that way.</p>
<h2 id="facebooks-concepts">Facebook&rsquo;s concepts<a hidden class="anchor" aria-hidden="true" href="#facebooks-concepts">#</a></h2>
<p>Let&rsquo;s apply this idea to Facebook. Our task is to come up with plausible concept definitions that capture our expectations of activities such as posting, friending and tagging. This will not be easy because apps like Facebook are so baroque that arguably our expectations are uncertain and inconsistent. So instead we&rsquo;ll try to imagine how an app like Facebook <em>might</em> work if it were designed to be as simple and clear as possible.</p>
<p>Our first task is to identify the essential concepts, and assign each a compelling purpose and a role with respect to privacy. For example, we might come up with the following concepts and purposes:</p>
<pre><code>Post: author content
Comment: respond to content by others
Friend: control access to your content
Tag: identify users in images
</code></pre>
<p>Even these apparently simple purposes are not uncontentious. The Friend concept, for example, is also used to filter content (so that you see content that you&rsquo;re interested in). This purpose arguably belongs to the Follower concept, however, which in Facebook is merged into the Friend concept. But this issue need not bother us here, since privacy is our primary concern.</p>
<p>Now let&rsquo;s assign privacy roles to concepts:</p>
<pre><code>Post: determines who can edit content (the author)
Comment: determines who can edit response (its author)
Friend: determines who can see content (friends of the content publisher)
Tag: no role
</code></pre>
<p>The privacy roles of Post and Content are straightforward: they control only who can edit the post or the comment (namely the author who wrote them in the first place). Deciding that Tag has no privacy role is obviously inconsistent with the way it behaves in Facebook, but we&rsquo;re laying out the simple case for now. Friend is the interesting one here, and as we&rsquo;ll see, what&rsquo;s tricky is defining who publishes given content.</p>
<p>As we enumerate these concepts and their roles, we realize that we have covered reading and editing (and implicitly creating, assuming that each concept governs the creation of its namesake items), but not deletion. So we add one more concept</p>
<pre><code>Owner: manage deletion of items
</code></pre>
<p>that will determine who is allowed to delete which items.</p>
<h2 id="defining-states">Defining states<a hidden class="anchor" aria-hidden="true" href="#defining-states">#</a></h2>
<p>Our next task is to outline the behavior of the individual concepts. The interesting case is Friend. We start with the state components (aka the data model):</p>
<pre><code>publishes: User -&gt; set Item
friends: User -&gt; set User
sees: User -&gt; set Item = friends.publishes
</code></pre>
<p>The <em>publishes</em> relation will track which items have been published by which users. Note that I wrote <em>Item</em> and not <em>Post</em> or <em>Comment</em> or <em>Tag</em>. No concept should depend on the existence of any other; we should be able to understand Friend without knowing what form the items that are published will take. From Friend&rsquo;s point of view, only the identity of an item matters, and <em>Item</em> can be viewed as a type variable (so that Friend is generic over all possible items).</p>
<p>Note also that the Friend concept maintains its own record of which item was published by which user; it can&rsquo;t refer to a relation in some other concept (such as which items are owned by which users in the Owner concept, or which posts are authored by which users in the Post concept). This might seem to be redundant, but in fact it isn&rsquo;t: we&rsquo;ll see that the <em>publishes</em> relation does not neatly align with these other relations in the other concepts. You can own an item but not publish it, for example.</p>
<p>Finally, the <em>sees</em> relation defines which items a particular user can see. It is not a state component that can be independently updated, but is instead <em>defined</em> in terms of the other state components. The expression <em>friend.publishes</em> uses the Alloy join operator, and associates with a user the set of items published by that user&rsquo;s friends.</p>
<h2 id="defining-actions">Defining actions<a hidden class="anchor" aria-hidden="true" href="#defining-actions">#</a></h2>
<p>To complete the behavior of the individual concepts, we define actions. For Friend, for example, we might have the following actions, each with a comment giving its effect on the state:</p>
<pre><code>publish (u: User, i: Item)
// add i to u.publishes

friend (u, u’: User)
// adds u to u’.friends and vv

unfriend (u, u’: User)
// removes u from u’.friends and vv

read (u: User, i: Item)
// blocks unless i in u.sees

delete (i: Item)
// remove item
</code></pre>
<p>Of course these specs can be written precisely in a language like <a href="alloytools.org">Alloy</a> and—in addition to being precise—that would let you do automatic simulation and analysis. But that&rsquo;s a story for another day. The important things to note here are: (a) that the <em>read</em> action is a kind of placeholder; it doesn&rsquo;t really do anything except block if the user isn&rsquo;t allowed to see the item; and (b) that the <em>publish</em> action is not called &ldquo;post&rdquo; or anything that like, because it will be in the composition with other concepts that we get to decide what comprises publishing.</p>
<h2 id="defining-synchronizations">Defining synchronizations<a hidden class="anchor" aria-hidden="true" href="#defining-synchronizations">#</a></h2>
<p>Now we can put things together, and define the overall behavior by synchronizing the actions of the individual concepts. I&rsquo;ve only shown you the actions of the Friend concept, but I think you&rsquo;ll be able to figure out what the actions of the other concepts do from their names.</p>
<p>Here are two synchronizations:</p>
<pre><code>app fb
includes Post, Comment, Tag, Owner, Friend, …

// when user u adds a comment c to post p
sync Comment.add_comment (u, p, c)
	// the author of the comment becomes its owner
	Owner.create (u, c)
	// the owners of the post become owners of the comment
	Owner.add_owners (p.(Owner/owners), c)
	// the comment is published by the publisher of the post
	Friend.publish (p.(Friend/publishes), c)

// when user u adds tag t to item i for user m
sync Tag.tag (u, m, t, i)
	// creator of tag becomes owner
	Owner.create (u, t)
	// mentioned user becomes owner too, so can delete
	Owner.add_owners (t, m)
	// tag itself is published by publisher of item
	Friend.publish (i.(Friend/publishes), t)
</code></pre>
<p>The first one describes what happens when the user adds a comment. That action produces three additional actions: the user who adds the comment becomes an owner of the comment; the owners of the post (on which the comment is made) become owners of the comment; and the comment is published by the publisher of the post. The expression <em>p.(Friend/publishes)</em> uses Alloy&rsquo;s nifty dot operator to navigate backwards from the post <em>p</em> through the <em>publishes</em> relation in Friend to obtain the set of users that are the publishers of <em>p</em>.</p>
<p>As a result of these actions, when Alice adds a comment to Bob&rsquo;s post, only Alice can edit the comment (since authorship is maintained in the Comment concept); both of them can delete the comment (since they are both owners, and the Owner concept lets owners delete items); and the comment is deemed to have been published not by Alice but by Bob. This last part is critical for our exploration of privacy in Facebook: it&rsquo;s what ensures that it&rsquo;s Bob&rsquo;s friends, and not Alice&rsquo;s friends, who see the comment.</p>
<p>The second sync says what happens when a user tags an item. Both the tagger and the tagged person are owners, so the tagged person can delete the tag if they don&rsquo;t like it. More interestingly, the effect of tagging includes making the tag published by the publisher of the item. So this means that the tag is visible to the same set of users as the item it&rsquo;s attached to.</p>
<h2 id="modeling-the-way-facebook-really-is">Modeling the way Facebook really is<a hidden class="anchor" aria-hidden="true" href="#modeling-the-way-facebook-really-is">#</a></h2>
<p>This is not how Facebook works by default, although you can get this behavior by tightening your privacy settings. Here is a sync that describes Facebook&rsquo;s default behavior:</p>
<pre><code>// when user u adds tag t to item i for user m
sync tag.tag (u, m, t, i)
	... // owners as before
	// tag itself is published by publisher of item
	friend.publish (i.(Friend/publishes), t)		
	// tagged person becomes a publisher of the item
	friend.publish (m, i)	
	// tagged person becomes a publisher of the tag
	friend.publish (m, t)
</code></pre>
<p>In this variant, the person tagged (<em>m</em>) additionally becomes a publisher of both the tag and the item tagged: that means that all their friends will see the tagging.</p>
<h2 id="what-have-we-gained">What have we gained?<a hidden class="anchor" aria-hidden="true" href="#what-have-we-gained">#</a></h2>
<p>By describing the Facebook design in terms of concepts, we&rsquo;ve achieved a few things:</p>
<ol>
<li>
<p>We&rsquo;ve factored the behavior into understandable pieces. In particular, the Friend concept is responsible for managing visibility, and encapsulates a very simple rule: you can see what your friends publish.</p>
</li>
<li>
<p>Because concepts can be combined by synchronization, we can describe behaviors in which actions happen not only because they are directly initiated by the user (such as adding a comment), but also because they occur implicitly, in combination with other events (such as the publishing of the comment by the author of the associated post).</p>
</li>
<li>
<p>We can now disentangle things, When Alice tags Carol in Bob&rsquo;s post, who is publishing what? In the design we proposed as the sane one, Bob is the publisher of the tag, just as he would be the publisher of a comment that Alice made on his post. And thus the audience of the post is not expanded by the act of tagging. In contrast, in the Facebook design, when Alice tags Carol in Bob&rsquo;s post, Carol is deemed to be publishing not only the tag but also the original post!</p>
</li>
<li>
<p>We can now judge the various design options, distinguishing sane and straightforward designs from those that are at best baroque and at worst malicious. For example, the case for arguing that any follow-up to a post is treated as published by the author of the post is straightforward, and corresponds to the idea of the whole discussion being &ldquo;hosted&rdquo; by that author. The case for the actual Facebook design, in which a tagged person is deemed to republish the post as a whole, seems much harder to defend.</p>
</li>
</ol>
<h2 id="where-does-this-all-go">Where does this all go?<a hidden class="anchor" aria-hidden="true" href="#where-does-this-all-go">#</a></h2>
<p>The upshot of this rather lengthy (and in places complicated) discussion can be stated simply. A user interacts with a software system by executing a series of actions. In an honest design free of dark patterns, which actions occur, and the effect of those actions, align with the user&rsquo;s expectations. Those expectations are set by the assumptions that the user brings to the interaction, based on prior experiences with similar systems. They include simple expectations about the user interface itself (for example, that green means go and red means stop), and deeper expectations about the underlying functionality (for example, that items don&rsquo;t spontaneously get added to a shopping cart). Concepts provide a way to identify recurring units of functionality, and thus to articulate these assumptions.</p>
<p>These ideas could be used to make apps such as Facebook more transparent and accountable to their users. An industry standards body could agree on the definition of concepts such as Friend, and Facebook would then be encouraged (or perhaps required) either to conform to that concept, or make it very clear that their concept was not compliant. Along with this, Facebook would be required to explain in simple terms who is publishing what, so that a user can figure out how actions in other concepts are interpreted as publishing actions from the point of view of Friend.</p>
<p>Admittedly, this isn&rsquo;t simple. But it&rsquo;s surely simpler than the status quo, in which the user is faced with a complex data model of posts, comments, replies, tags and friends, and very little structure that would allow them to understand what&rsquo;s really going on.</p>
<p><em>This post has been edited, based on very helpful discussions with <a href="https://www.linkedin.com/in/rebeccasjackson">Rebecca Jackson</a> and <a href="https://eskang.github.io">Eunsuk Kang</a>. Thank you to both of them. Thank you also to <a href="https://www.jameskoppel.com">Jimmy Koppel</a> for pointing me to Joel Spolsky&rsquo;s <a href="https://www.inc.com/magazine/20081001/how-hard-could-it-be-sins-of-commissions.html">story</a> in which he experienced &ldquo;sneak into basket&rdquo; in a physical store.</em></p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://essenceofsoftware.com/posts/design-moves/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Design Moves for Software</span>
  </a>
  <a class="next" href="https://essenceofsoftware.com/posts/dns-dkim/">
    <span class="title">Next Page »</span>
    <br>
    <span>Concept Piggybacking in DNS</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">


    <span>&copy; 2022 <a href="https://essenceofsoftware.com">Daniel Jackson</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
